<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <script type="text/javascript" src="https://polyk.ivank.net/polyk.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/11.8.0/math.js" integrity="sha512-VW8/i4IZkHxdD8OlqNdF7fGn3ba0+lYqag+Uy4cG6BtJ/LIr8t23s/vls70pQ41UasHH0tL57GQfKDApqc9izA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://d3js.org/d3.v3.min.js"></script>
    <meta charset="utf-8" />
  </head>
  <body>
    <div>
      <button id="hidden-modal-button" style="display: none;">Open Modal</button>
      <div id="error-modal" class="modal">
        <div class="modal-content">
          <span id="close-error-modal" class="close">&times;</span>
          <p id="modal-text"></p>
        </div>
      </div>
      </div>
      <div class="header"> Make Tile </div>
      <div id="drawing-ui-container" class="drawing-container">
        <div id="drawing-tool-panel" class="drawing-panel">
          <button id="instructions" onclick="toggleInstructionsDropdown()">instructions</button>
          <div class="dropdown">
            <div id="instructions-dropdown" class="dropdown-content">
            <p onclick="window.open('https://docs.google.com/document/d/1hrwBiX8EBgNT8JZfoFFX7EnDIn__Jqudjkugnt13OQ0/edit?usp=sharing')">documentation</p>
            <p onclick="window.open('https://youtu.be/Bl4Aj9KGqdw')">tutorial</p>
            </div>
          </div>
          <button onclick="saveTile()"> save tile</button>
          <button id="draw-button"> <i class="fa fa-pencil" aria-hidden="true"></i> draw</button>
          <button id="select-button"> <i class="fa fa-mouse-pointer" aria-hidden="true"></i> select</button>
          <button id="add-label">manage labels</button>
          <button onclick="reflectOverX()" id="reflect-x">reflect x</button>
          <button onclick="reflectOverY()" id="reflect-y">reflect y</button>
          <button onclick="toggleDropdown()" id="assign-label">assign label</button>
          
          
          <div class="dropdown">
            <div id="label-dropdown" class="dropdown-content">
            </div>
          </div>

          <div id="enter-label" class="modal">
            <!-- Modal content -->
            <div class="modal-content">
              <span id="modal-text-close">&times;</span>
              <div id="modal-text">
                Add new label:
                <input type="text" maxlength="512" id="label-text-input"/>
                <button onclick="addLabel()">add label</button>
                <p id="error-add-label"></p>
                <div> 
                  <button id="move-label"> move label</button> 
                  <button id="edit-label">draw and select nodes/edges</button>
                  <button id= "delete-labels">delete labels</button>
                  <button id= "bi-link-assign">bi link assign</button>
                  <button id= "left-link-assign">left link assign</button>
                  <button id= "right-link-assign">right link assign</button>
                </div>
                <div id="label-display">
                </div>
                <div id="graph-display">
                </div>
              </div>
            </div>
          </div>
          </select>
        </div>
        <div id="svg-container" class="svg-container">
        </div>
        <div id="layer-container" class="layer-panel">
        </div>
      </div> 
    </div>
    <div class="header"> Assemble Tiles </div>
    <div id="assembler-ui-container" class="drawing-container">
      <div id="generating-tool-panel" class="assembler-panel">
        <button onclick="rerenderAssemblage()"> <i class="fa fa-refresh" aria-hidden="true"></i> regenerate</button>
        <button id="add-tree"> <i class="fa fa-refresh" aria-hidden="true"></i> add more</button>
        <button id="undo"> undo</button>
        <button id="redo"> redo</button>
        <div class="slidecontainer">
          <p class="slider-text"> tile scale: <span id="scale-text"></span></p>
          <input type="range" min="0" max="300" value="1" class="slider" id="scale-range">
        </div>
        <button id="assemblage-width">width:<input type="number" style="width: 150px" max="50000"id="assemblage-width-input"/></button>
        <button id="assemblage-height">height:<input type="number" style="width: 150px"  max="50000"id="assemblage-height-input"/></button>
        <!-- <button id="clean-up"> clean up</button> -->
        <button id="download-assemblage" onclick="downloadAssemblage()">  <i class="fa fa-download" aria-hidden="true"></i> download SVG</button>
        <button onclick="downloadProject()">  <i class="fa fa-floppy-o" aria-hidden="true"></i> download project</button>
        <button><label for="load-project"> <input type="file" id="load-project" onchange="loadJSON()" accept=".json" style="display:none;"/> <i class="fa fa-cloud-upload" aria-hidden="true"></i> load project</label></button>
        
        <label>
          <input class="form-control" type="checkbox" name="checkbox-checked"  id="autoscale-check"/>
          autoscale
        </label>
       
      </div>
      
      <div id="assembler-svg-container" class="svg-container">
      </div>
      <div id="thumbnail-container" class="thumbnail-panel">
        <div id="thumbnails">
        </div>
      </div>
      
    </div>
    <script src="utils/line_intersect_line.js"></script>
    <script src="utils/math_utils.js"></script>
    <script src="utils/solution.js"></script>
    <script src="objs.js"></script>
    <script src="error_modal.js"></script>
    <script src="select.js"></script>
    <script src="assembler.js"></script>
    <script src="tile_making.js"></script>
    <script src="label_modal.js"></script>
    <script src="script.js"></script>
    
  </body>
</html>
